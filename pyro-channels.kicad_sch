(kicad_sch (version 20230121) (generator eeschema)

  (uuid d8023736-0b85-42d5-aeb5-5298f2605462)

  (paper "A4")

  (title_block
    (title "Pyrotechnic Channels")
    (date "2023-09-23")
    (rev "0.5")
  )

  (lib_symbols
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Transistor_FET:AO3400A" (pin_names hide) (in_bom yes) (on_board yes)
      (property "Reference" "Q" (at 5.08 1.905 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "AO3400A" (at 5.08 0 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (at 5.08 -1.905 0)
        (effects (font (size 1.27 1.27) italic) (justify left) hide)
      )
      (property "Datasheet" "http://www.aosmd.com/pdfs/datasheet/AO3400A.pdf" (at 0 0 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "ki_keywords" "N-Channel MOSFET" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "30V Vds, 5.7A Id, N-Channel MOSFET, SOT-23" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SOT?23*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "AO3400A_0_1"
        (polyline
          (pts
            (xy 0.254 0)
            (xy -2.54 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.254 1.905)
            (xy 0.254 -1.905)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 -1.27)
            (xy 0.762 -2.286)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 0.508)
            (xy 0.762 -0.508)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 2.286)
            (xy 0.762 1.27)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 2.54)
            (xy 2.54 1.778)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 -2.54)
            (xy 2.54 0)
            (xy 0.762 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 -1.778)
            (xy 3.302 -1.778)
            (xy 3.302 1.778)
            (xy 0.762 1.778)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.016 0)
            (xy 2.032 0.381)
            (xy 2.032 -0.381)
            (xy 1.016 0)
          )
          (stroke (width 0) (type default))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy 2.794 0.508)
            (xy 2.921 0.381)
            (xy 3.683 0.381)
            (xy 3.81 0.254)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.302 0.381)
            (xy 2.921 -0.254)
            (xy 3.683 -0.254)
            (xy 3.302 0.381)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (circle (center 1.651 0) (radius 2.794)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (circle (center 2.54 -1.778) (radius 0.254)
          (stroke (width 0) (type default))
          (fill (type outline))
        )
        (circle (center 2.54 1.778) (radius 0.254)
          (stroke (width 0) (type default))
          (fill (type outline))
        )
      )
      (symbol "AO3400A_1_1"
        (pin input line (at -5.08 0 0) (length 2.54)
          (name "G" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 2.54 -5.08 90) (length 2.54)
          (name "S" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 2.54 5.08 270) (length 2.54)
          (name "D" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 71.12 34.29) (diameter 0) (color 0 0 0 0)
    (uuid 7d00947d-3b94-4dfc-b108-e417895a7cc2)
  )
  (junction (at 71.12 45.72) (diameter 0) (color 0 0 0 0)
    (uuid fff50b65-eded-4de9-b122-255fb2959a4e)
  )

  (wire (pts (xy 71.12 34.29) (xy 80.01 34.29))
    (stroke (width 0) (type default))
    (uuid 16e3c4df-21e1-4ae0-bb8f-9b9b1d8f3716)
  )
  (wire (pts (xy 71.12 54.61) (xy 71.12 57.15))
    (stroke (width 0) (type default))
    (uuid 1f70754f-6eb8-439c-984a-bfb6a0837759)
  )
  (wire (pts (xy 71.12 34.29) (xy 71.12 36.83))
    (stroke (width 0) (type default))
    (uuid 2d1b9b06-4031-4d22-81ad-62b3f25cbaa6)
  )
  (wire (pts (xy 71.12 45.72) (xy 71.12 46.99))
    (stroke (width 0) (type default))
    (uuid 5a4ef3b4-68cc-4ad0-9dbe-4d26e39abccb)
  )
  (wire (pts (xy 66.04 45.72) (xy 71.12 45.72))
    (stroke (width 0) (type default))
    (uuid 6011908d-be33-483e-aebe-dda94246563e)
  )
  (wire (pts (xy 90.17 34.29) (xy 99.06 34.29))
    (stroke (width 0) (type default))
    (uuid 759b68be-a8f7-4d6e-a26a-eba0288a6b47)
  )
  (wire (pts (xy 85.09 45.72) (xy 88.9 45.72))
    (stroke (width 0) (type default))
    (uuid 8931fc28-fd47-4062-ad35-e9e5e01be4cf)
  )
  (wire (pts (xy 85.09 45.72) (xy 85.09 41.91))
    (stroke (width 0) (type default))
    (uuid 8ff40faf-ef8f-40be-a850-ee3444890310)
  )
  (wire (pts (xy 71.12 44.45) (xy 71.12 45.72))
    (stroke (width 0) (type default))
    (uuid b34818b5-3172-4425-8d82-12ca4a62a4a3)
  )
  (wire (pts (xy 67.31 34.29) (xy 71.12 34.29))
    (stroke (width 0) (type default))
    (uuid e1c19d60-9cd9-448c-bb6d-9d3010eadc4b)
  )
  (wire (pts (xy 99.06 34.29) (xy 99.06 36.83))
    (stroke (width 0) (type default))
    (uuid f266184d-8b7f-4c3a-93a3-26aa34d71d22)
  )

  (text "When the pyro channel is triggered, \nMCU applies voltage to this pin"
    (at 90.17 54.61 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 883cbaf5-fbfe-4e31-bdb2-0bdf413101ce)
  )
  (text "This is the actual Pyro Channel. One of the\ncharge's leads connects to this, the other to the\npositive ignition battery voltage. To trigger,\nthis input is shorted to ground."
    (at 33.02 26.67 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid cb33e36f-dd7e-4b14-b7c0-4bdc1acbd60b)
  )
  (text "We want to be able to measure voltage on\nPyro Channel, since this is how we can\ndetect continuity. To avoid damaging the\nMCU's ADC, we use a voltage divider, so\nthe voltage read is 1/11 of the ignition\nbattery voltage"
    (at 21.59 69.85 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid fc6831b1-2696-43ad-a27a-53c58541c2c0)
  )

  (hierarchical_label "Pyro Channel A Trigger" (shape input) (at 88.9 45.72 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid b8398020-ea11-4871-9f98-9082c2c796a8)
  )
  (hierarchical_label "Pyro Channel A Continuity Voltage" (shape input) (at 66.04 45.72 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid d9bee856-0c60-4cd4-b9f1-19b7e8441a58)
  )
  (hierarchical_label "Pyro Channel A" (shape input) (at 67.31 34.29 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid db4b39a3-93dd-4223-9b98-c51b8d6d1585)
  )

  (symbol (lib_id "power:GND") (at 99.06 36.83 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 196e6253-1d83-4ac6-aa6d-0201ba7ff5be)
    (property "Reference" "#PWR032" (at 99.06 43.18 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 99.06 41.91 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Footprint" "" (at 99.06 36.83 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 99.06 36.83 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 4f84f96d-fffe-46b4-98ac-cae505bd5758))
    (instances
      (project "Flight Computer"
        (path "/0c1188a1-706b-46cd-a73a-5b3f8187d77a/8b5c3409-c69f-490d-a71d-45a34969a1f1"
          (reference "#PWR032") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R") (at 71.12 50.8 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 22ebbaf8-9d51-4ad5-b90f-5fcb571ac889)
    (property "Reference" "R6" (at 72.39 49.53 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "22k" (at 72.39 52.07 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 69.342 50.8 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 71.12 50.8 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid ac123800-99bb-4b4d-bd93-3f3d0282d5b2))
    (pin "2" (uuid 9c951f9e-66b5-4d01-9ccd-b48be8ceaedf))
    (instances
      (project "Flight Computer"
        (path "/0c1188a1-706b-46cd-a73a-5b3f8187d77a/8b5c3409-c69f-490d-a71d-45a34969a1f1"
          (reference "R6") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 71.12 57.15 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 384dcca1-40d7-4584-9c16-376f77b299b7)
    (property "Reference" "#PWR033" (at 71.12 63.5 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 71.12 62.23 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Footprint" "" (at 71.12 57.15 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 71.12 57.15 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid cf420f35-0260-4798-86c1-f34c1cced2b9))
    (instances
      (project "Flight Computer"
        (path "/0c1188a1-706b-46cd-a73a-5b3f8187d77a/8b5c3409-c69f-490d-a71d-45a34969a1f1"
          (reference "#PWR033") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Transistor_FET:AO3400A") (at 85.09 36.83 90) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 7d23ef38-722b-4124-85ce-d661c08ce172)
    (property "Reference" "Q2" (at 85.09 27.94 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "AO3400A" (at 85.09 30.48 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (at 86.995 31.75 0)
      (effects (font (size 1.27 1.27) italic) (justify left) hide)
    )
    (property "Datasheet" "http://www.aosmd.com/pdfs/datasheet/AO3400A.pdf" (at 85.09 36.83 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (pin "1" (uuid b71684b5-0853-4070-9524-69c6e4fc212e))
    (pin "2" (uuid 03898a23-5129-40eb-9ef9-f11f4e29a109))
    (pin "3" (uuid 696d8fcc-3eaf-4eac-9d51-d02e6f726ea9))
    (instances
      (project "Flight Computer"
        (path "/0c1188a1-706b-46cd-a73a-5b3f8187d77a/8b5c3409-c69f-490d-a71d-45a34969a1f1"
          (reference "Q2") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R") (at 71.12 40.64 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid e178c802-cf75-49b1-8a0d-8a23f2954b3a)
    (property "Reference" "R4" (at 72.39 39.37 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "220k" (at 72.39 41.91 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 69.342 40.64 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 71.12 40.64 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 15eec11e-5fcc-4c52-acba-0726a497e02e))
    (pin "2" (uuid 4367c2be-acc2-4cd6-a4db-fb55bd817509))
    (instances
      (project "Flight Computer"
        (path "/0c1188a1-706b-46cd-a73a-5b3f8187d77a/8b5c3409-c69f-490d-a71d-45a34969a1f1"
          (reference "R4") (unit 1)
        )
      )
    )
  )
)
